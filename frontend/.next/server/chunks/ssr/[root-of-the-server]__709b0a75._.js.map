{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/contexts/ThemeContext.tsx"],"sourcesContent":["// contexts/ThemeContext.tsx\r\n\"use client\";\r\nimport {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n  ReactNode,\r\n} from \"react\";\r\n\r\ntype Theme = \"light\" | \"dark\";\r\ntype ThemeContextType = {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n};\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport const ThemeProvider = ({ children }: { children: ReactNode }) => {\r\n  const [theme, setTheme] = useState<Theme>(\"light\");\r\n  const [isMounted, setIsMounted] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Run only on client-side after mount\r\n    setIsMounted(true);\r\n    const savedTheme = localStorage.getItem(\"theme\") as Theme;\r\n    const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\r\n    const initialTheme = savedTheme || (prefersDark ? \"dark\" : \"light\");\r\n    setTheme(initialTheme);\r\n    document.documentElement.classList.toggle(\"dark\", initialTheme === \"dark\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted) {\r\n      // Sync dark class and localStorage when theme changes\r\n      document.documentElement.classList.toggle(\"dark\", theme === \"dark\");\r\n      localStorage.setItem(\"theme\", theme);\r\n    }\r\n  }, [theme, isMounted]);\r\n\r\n  const toggleTheme = () => {\r\n    setTheme((prev) => (prev === \"light\" ? \"dark\" : \"light\"));\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\r\n      {isMounted ? children : <div>Loading...</div>}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useTheme = () => {\r\n  const context = useContext(ThemeContext);\r\n  if (!context) throw new Error(\"useTheme must be used within ThemeProvider\");\r\n  return context;\r\n};\r\n\r\nexport default ThemeProvider;"],"names":[],"mappings":"AAAA,4BAA4B;;;;;;;AAE5B;AADA;;;AAeA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAE1D,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAA2B;IACjE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS;IAC1C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,sCAAsC;QACtC,aAAa;QACb,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;QAC7E,MAAM,eAAe,cAAc,CAAC,cAAc,SAAS,OAAO;QAClE,SAAS;QACT,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,iBAAiB;IACrE,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,WAAW;YACb,sDAAsD;YACtD,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,UAAU;YAC5D,aAAa,OAAO,CAAC,SAAS;QAChC;IACF,GAAG;QAAC;QAAO;KAAU;IAErB,MAAM,cAAc;QAClB,SAAS,CAAC,OAAU,SAAS,UAAU,SAAS;IAClD;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD,YAAY,yBAAW,8OAAC;sBAAI;;;;;;;;;;;AAGnC;AAEO,MAAM,WAAW;IACtB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/layout/header.tsx"],"sourcesContent":["// components/layout/header.tsx\r\n\"use client\";\r\nimport { LayoutDashboard, Moon, Sun } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useTheme } from \"../../contexts/ThemeContext\";\r\n\r\nexport default function Header() {\r\n  const { theme, toggleTheme } = useTheme();\r\n\r\n  return (\r\n    <motion.header\r\n      className=\"flex items-center justify-between px-6 py-4 shadow-md sticky top-0 z-50\"\r\n      initial={{ y: -50, opacity: 0 }}\r\n      animate={{ y: 0, opacity: 1 }}\r\n    >\r\n      <div className=\"flex items-center gap-2\">\r\n        <LayoutDashboard className=\"icon w-5 h-5\" />\r\n        <h1 className=\"text-xl font-bold\">Resume Builder</h1>\r\n      </div>\r\n\r\n      <nav className=\"flex gap-6 text-sm md:text-base\">\r\n        <Link href=\"/\" className=\"hover:[color:var(--link-hover)]\">\r\n          Dashboard\r\n        </Link>\r\n        {/* <Link href=\"/admin\" className=\"hover:[color:var(--link-hover)]\">\r\n          Admin\r\n        </Link> */}\r\n        <Link href=\"/login\" className=\"hover:[color:var(--link-hover)]\">\r\n          Login\r\n        </Link>\r\n        <Link href=\"/register\" className=\"hover:[color:var(--link-hover)]\">\r\n          Register\r\n        </Link>\r\n      </nav>\r\n\r\n      <button\r\n        onClick={toggleTheme}\r\n        className=\"p-2 rounded-full bg-[var(--card-bg)]\"\r\n      >\r\n        {theme === \"dark\" ? (\r\n          <Sun className=\"w-5 h-5 text-yellow-500\" />\r\n        ) : (\r\n          <Moon className=\"w-5 h-5 text-gray-800\" />\r\n        )}\r\n      </button>\r\n    </motion.header>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,+BAA+B;;;;;AAE/B;AAAA;AAAA;AACA;AACA;AACA;AAJA;;;;;;AAMe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,gIAAA,CAAA,WAAQ,AAAD;IAEtC,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,MAAM;QACZ,WAAU;QACV,SAAS;YAAE,GAAG,CAAC;YAAI,SAAS;QAAE;QAC9B,SAAS;YAAE,GAAG;YAAG,SAAS;QAAE;;0BAE5B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4NAAA,CAAA,kBAAe;wBAAC,WAAU;;;;;;kCAC3B,8OAAC;wBAAG,WAAU;kCAAoB;;;;;;;;;;;;0BAGpC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;kCAAkC;;;;;;kCAM3D,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAS,WAAU;kCAAkC;;;;;;kCAGhE,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAY,WAAU;kCAAkC;;;;;;;;;;;;0BAKrE,8OAAC;gBACC,SAAS;gBACT,WAAU;0BAET,UAAU,uBACT,8OAAC,gMAAA,CAAA,MAAG;oBAAC,WAAU;;;;;yCAEf,8OAAC,kMAAA,CAAA,OAAI;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAK1B","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/layout/footer.tsx"],"sourcesContent":["\"use client\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <motion.footer\r\n      className=\" text-center text-sm py-4 border-t \"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n    >\r\n      Â© {new Date().getFullYear()} Resume Builder. All rights reserved.\r\n    </motion.footer>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACtB,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,MAAM;QACZ,WAAU;QACV,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;;YACvB;YACI,IAAI,OAAO,WAAW;YAAG;;;;;;;AAGlC","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/contexts/authContext.tsx"],"sourcesContent":["\"use client\";\r\nimport {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useEffect,\r\n  ReactNode,\r\n} from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype UserRole = \"user\" | \"admin\";\r\n\r\ninterface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  role: UserRole;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  login: (user: User) => void;\r\n  logout: () => void;\r\n  isAuthenticated: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    if (storedUser) setUser(JSON.parse(storedUser));\r\n  }, []);\r\n\r\n  const login = (user: User) => {\r\n    setUser(user);\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n    router.push(user.role === \"admin\" ? \"/admin\" : \"/dashboard\");\r\n  };\r\n\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem(\"user\");\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ user, login, logout, isAuthenticated: !!user }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const ctx = useContext(AuthContext);\r\n  if (!ctx) throw new Error(\"useAuth must be used within AuthProvider\");\r\n  return ctx;\r\n};\r\nexport default AuthProvider;"],"names":[],"mappings":";;;;;;AACA;AAOA;AARA;;;;AA0BA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY,QAAQ,KAAK,KAAK,CAAC;IACrC,GAAG,EAAE;IAEL,MAAM,QAAQ,CAAC;QACb,QAAQ;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,OAAO,IAAI,CAAC,KAAK,IAAI,KAAK,UAAU,WAAW;IACjD;IAEA,MAAM,SAAS;QACb,QAAQ;QACR,aAAa,UAAU,CAAC;QACxB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YAAE;YAAM;YAAO;YAAQ,iBAAiB,CAAC,CAAC;QAAK;kBAErD;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,MAAM,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT;uCACe","debugId":null}},
    {"offset": {"line": 414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/store/slices/authSlices.tsx"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\r\nimport { RootState } from '../store';\r\nimport axios, { AxiosError } from 'axios';\r\n\r\n// Interfaces\r\nexport interface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  role?: string;\r\n  resume?: string;\r\n  [key: string]: string | undefined;\r\n}\r\n\r\ninterface AuthState {\r\n  user: User | null;\r\n  token: string | null;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  error: string | null;\r\n  message: string | null;\r\n}\r\n\r\n\r\n\r\ninterface ErrorResponse {\r\n  message: string;\r\n  data?: {\r\n    message: string;\r\n  };\r\n}\r\n\r\n// Initial state\r\nconst initialState: AuthState = {\r\n  user: null,\r\n  token: typeof window !== 'undefined' ? localStorage.getItem('token') : null,\r\n  isLoading: false,\r\n  isAuthenticated: false,\r\n  error: null,\r\n  message: null,\r\n};\r\n\r\n// Get API URL - use environment variable or fallback\r\nconst getApiUrl = () => {\r\n  if (typeof window !== 'undefined') {\r\n    return process.env.API_URL || 'http://localhost:8000/api/';\r\n  }\r\n  return process.env.API_URL || 'http://localhost:8000/api/';\r\n};\r\n\r\n// Async thunks\r\nexport const registerUser = createAsyncThunk<\r\n  { user: User; token: string },\r\n  Record<string, string>,\r\n  { rejectValue: string }\r\n>('auth/register', async (userData, { rejectWithValue }) => {\r\n  try {\r\n    const response = await axios.post(`${getApiUrl()}auth/register`, userData, {\r\n      withCredentials: true,\r\n    });\r\n\r\n    // Handle the response structure (assuming similar to login)\r\n    const user = response.data.data || response.data.user;\r\n    const token = response.data.token || 'dummy-token';\r\n\r\n    // Store token in localStorage if received\r\n    if (token) {\r\n      localStorage.setItem('token', token);\r\n    }\r\n\r\n    return {\r\n      user: user,\r\n      token: token\r\n    };\r\n  } catch (error) {\r\n    const err = error as AxiosError<ErrorResponse>;\r\n    return rejectWithValue(err.response?.data?.message || 'Registration failed');\r\n  }\r\n});\r\n\r\nexport const loginUser = createAsyncThunk<\r\n  { user: User; token: string },\r\n  Record<string, string>,\r\n  { rejectValue: string }\r\n>('auth/login', async (credentials, { rejectWithValue }) => {\r\n  try {\r\n    const response = await axios.post(`${getApiUrl()}auth/login`, credentials, {\r\n      withCredentials: true,\r\n    });\r\n    \r\n    // Handle the response structure from your backend\r\n    const userData = response.data.data; // User data is in response.data.data\r\n    const token = response.data.token || 'dummy-token'; // Use token if provided, or dummy token\r\n    \r\n    // Store token in localStorage if received\r\n    if (token) {\r\n      localStorage.setItem('token', token);\r\n    }\r\n\r\n    // Return in the format expected by Redux\r\n    return {\r\n      user: userData,\r\n      token: token\r\n    };\r\n  } catch (error) {\r\n    const err = error as AxiosError<ErrorResponse>;\r\n    return rejectWithValue(err.response?.data?.message || 'Login failed');\r\n  }\r\n});\r\n\r\nexport const fetchUser = createAsyncThunk<\r\n  { user: User },\r\n  void,\r\n  { rejectValue: string }\r\n>('auth/fetchUser', async (_, { rejectWithValue }) => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    const response = await axios.get(`${getApiUrl()}auth/`, {\r\n      withCredentials: true,\r\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n    });\r\n    \r\n    // Handle the response structure\r\n    const userData = response.data.data || response.data.user || response.data;\r\n    \r\n    return { user: userData };\r\n  } catch (error) {\r\n    const err = error as AxiosError<ErrorResponse>;\r\n    return rejectWithValue(err.response?.data?.message || 'Failed to get profile');\r\n  }\r\n});\r\n\r\n// Slice\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  reducers: {\r\n    clearAuth: (state) => {\r\n      state.user = null;\r\n      state.token = null;\r\n      state.isAuthenticated = false;\r\n      state.error = null;\r\n      state.message = null;\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('token');\r\n      }\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n    clearMessage: (state) => {\r\n      state.message = null;\r\n    },\r\n    setCredentials: (\r\n      state,\r\n      action: PayloadAction<{ user: User; token: string }>\r\n    ) => {\r\n      state.user = action.payload.user;\r\n      state.token = action.payload.token;\r\n      state.isAuthenticated = true;\r\n      if (typeof window !== 'undefined') {\r\n        localStorage.setItem('token', action.payload.token);\r\n      }\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Register\r\n      .addCase(registerUser.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n        state.message = null;\r\n      })\r\n      .addCase(registerUser.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.user = action.payload.user;\r\n        state.token = action.payload.token;\r\n        state.isAuthenticated = true;\r\n        state.message = 'Registration successful';\r\n        state.error = null;\r\n      })\r\n      .addCase(registerUser.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.payload || 'Registration failed';\r\n        state.isAuthenticated = false;\r\n      })\r\n\r\n      // Login\r\n      .addCase(loginUser.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n        state.message = null;\r\n      })\r\n      .addCase(loginUser.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.user = action.payload.user;\r\n        state.token = action.payload.token;\r\n        state.isAuthenticated = true;\r\n        state.message = 'Login successful';\r\n        state.error = null;\r\n      })\r\n      .addCase(loginUser.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.payload || 'Login failed';\r\n        state.isAuthenticated = false;\r\n      })\r\n\r\n      // Get Profile\r\n      .addCase(fetchUser.pending, (state) => {\r\n        state.isLoading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchUser.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.user = action.payload.user;\r\n        state.isAuthenticated = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchUser.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.error = action.payload || 'Failed to get profile';\r\n        state.isAuthenticated = false;\r\n      })\r\n  },\r\n});\r\n\r\nexport const { clearAuth, clearError, clearMessage, setCredentials } = authSlice.actions;\r\n\r\n// Selectors\r\nexport const selectAuth = (state: RootState) => state.auth;\r\nexport const selectUser = (state: RootState) => state.auth.user;\r\nexport const selectIsAuthenticated = (state: RootState) => state.auth.isAuthenticated;\r\nexport const selectAuthLoading = (state: RootState) => state.auth.isLoading;\r\nexport const selectAuthError = (state: RootState) => state.auth.error;\r\nexport const selectUserRole = (state: RootState) => state.auth.user?.role;\r\n\r\nexport default authSlice.reducer;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/store/store.ts"],"sourcesContent":["// frontend/src/store/store.js\r\nimport { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from './slices/authSlices';\r\n// import resumeReducer from './slices/resumeSlice';\r\n// import themeReducer from './slices/themeSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    auth: authReducer,\r\n    // resume: resumeReducer,\r\n    // theme: themeReducer,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: ['persist/PERSIST'],\r\n      },\r\n    }),\r\n  devTools: process.env.NODE_ENV !== 'production',\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;"],"names":[],"mappings":"AAAA,8BAA8B;;;;AAC9B;AACA;;;AAIO,MAAM,QAAQ,CAAA,GAAA,2LAAA,CAAA,iBAAc,AAAD,EAAE;IAClC,SAAS;QACP,MAAM,qIAAA,CAAA,UAAW;IAGnB;IACA,YAAY,CAAC,uBACX,qBAAqB;YACnB,mBAAmB;gBACjB,gBAAgB;oBAAC;iBAAkB;YACrC;QACF;IACF,UAAU,oDAAyB;AACrC","debugId":null}},
    {"offset": {"line": 625, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/common/reduxProvider.tsx"],"sourcesContent":["// store/provider.tsx\r\n\"use client\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from \"@/store/store\";\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst ReduxProvider = ({ children }: Props) => {\r\n  return <Provider store={store}>{children}</Provider>;\r\n};\r\n\r\nexport default ReduxProvider;\r\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;AAGrB;AACA;AAHA;;;;AASA,MAAM,gBAAgB,CAAC,EAAE,QAAQ,EAAS;IACxC,qBAAO,8OAAC,yJAAA,CAAA,WAAQ;QAAC,OAAO,qHAAA,CAAA,QAAK;kBAAG;;;;;;AAClC;uCAEe","debugId":null}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/common/ProtctRouter.tsx"],"sourcesContent":["// components/ProtectedRoute.tsx\r\n\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"@/store/store\";\r\nimport { fetchUser } from \"@/store/slices/authSlices\";\r\n\r\ninterface ProtectedRouteProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport default function  ProtectedRoute({ \r\n  children \r\n}: ProtectedRouteProps) {\r\n  const router = useRouter();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const { user, isLoading } = useSelector((state: RootState) => state.auth);\r\n  const [isChecking, setIsChecking] = useState(true);\r\n  const [retryCount, setRetryCount] = useState(0);\r\nconsole.log(user,\"checking user available\")\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        if (!user) {\r\n            console.log(\"can't find the admin now i am fetching admin details\")\r\n          await dispatch(fetchUser()).unwrap();\r\n        }else{\r\n            console.log(\"we have already admin details\")\r\n        }\r\n        setIsChecking(false);\r\n      } catch (error) {\r\n\r\n        console.log(error)\r\n        if (retryCount < 3) {\r\n          setTimeout(() => {\r\n            setRetryCount(prev => prev + 1);\r\n          }, 1000);\r\n        } else {\r\n         console.log(user)\r\n          setIsChecking(false);\r\n          router.push(\"/login\");\r\n        }\r\n      }\r\n    };\r\n    \r\n    if (isChecking) {\r\n      checkAuth();\r\n    }else{\r\n        console.log(\"can't check becouse limit exceed\")\r\n    }\r\n  }, [user, dispatch, router, isChecking, retryCount]);\r\n  \r\n  if (isChecking || isLoading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#215979]\"></div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  // If authenticated, render the children without role checking\r\n  return <>{children}</>;\r\n}\r\n\r\n// \"use client\";\r\n\r\n// import { useEffect, useState } from \"react\";\r\n// import { useRouter } from \"next/navigation\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import { AppDispatch, RootState } from \"@/redux/store\";\r\n// import { fetchUser } from \"@/redux/action/authAction\";\r\n\r\n// interface ProtectedRouteProps {\r\n//   children: React.ReactNode;\r\n// }\r\n\r\n// export default function ProtectedRoute({ children }: ProtectedRouteProps) {\r\n//   const router = useRouter();\r\n//   const dispatch = useDispatch<AppDispatch>();\r\n//   const { admin, loading } = useSelector((state: RootState) => state.admin);\r\n//   const [isChecking, setIsChecking] = useState(true);\r\n//   const [retryCount, setRetryCount] = useState(0);\r\n  \r\n//   useEffect(() => {\r\n//     const checkAuth = async () => {\r\n//       try {\r\n//         // Always attempt to fetch user data\r\n//         await dispatch(fetchUser()).unwrap();\r\n        \r\n//         // If we successfully fetched user but don't have admin data,\r\n//         // we might need to retry\r\n//         if (!admin && retryCount < 3) {\r\n//           console.log(`Retry attempt ${retryCount + 1}: Waiting for admin data...`);\r\n//           setTimeout(() => {\r\n//             setRetryCount(prev => prev + 1);\r\n//           }, 1000);\r\n//           return; // Don't finish checking yet\r\n//         }\r\n        \r\n//         setIsChecking(false);\r\n//       } catch (error) {\r\n//         console.log(\"Auth error:\", error);\r\n        \r\n//         // On error, retry a few times (might be temporary)\r\n//         if (retryCount < 3) {\r\n//           console.log(`Retry attempt ${retryCount + 1}: Error fetching user`);\r\n//           setTimeout(() => {\r\n//             setRetryCount(prev => prev + 1);\r\n//           }, 1000);\r\n//         } else {\r\n//           // After max retries, finish checking and redirect\r\n//           console.log(\"Max retries reached, redirecting to login\");\r\n//           setIsChecking(false);\r\n//           router.push(\"/login\");\r\n//         }\r\n//       }\r\n//     };\r\n    \r\n//     if (isChecking) {\r\n//       checkAuth();\r\n//     }\r\n//   }, [admin, dispatch, router, isChecking, retryCount]);\r\n  \r\n//   // Show loading while checking\r\n//   if (isChecking || loading) {\r\n//     return (\r\n//       <div className=\"flex justify-center items-center h-screen\">\r\n//         <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#215979]\"></div>\r\n//       </div>\r\n//     );\r\n//   }\r\n  \r\n//   // After checking is complete, verify we have admin data\r\n//   if (!admin) {\r\n//     console.log(\"No admin data after all checks, redirecting to login\");\r\n//     router.push(\"/login\");\r\n//     return (\r\n//       <div className=\"flex justify-center items-center h-screen\">\r\n//         <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#215979]\"></div>\r\n//       </div>\r\n//     );\r\n//   }\r\n  \r\n//   // If we have admin data, render the protected content\r\n//   return <>{children}</>;\r\n// }"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAGhC;AACA;AACA;AAEA;AANA;;;;;;AAYe,SAAU,eAAe,EACtC,QAAQ,EACY;IACpB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAqB,MAAM,IAAI;IACxE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,QAAQ,GAAG,CAAC,MAAK;IACf,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,IAAI,CAAC,MAAM;oBACP,QAAQ,GAAG,CAAC;oBACd,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD,KAAK,MAAM;gBACpC,OAAK;oBACD,QAAQ,GAAG,CAAC;gBAChB;gBACA,cAAc;YAChB,EAAE,OAAO,OAAO;gBAEd,QAAQ,GAAG,CAAC;gBACZ,IAAI,aAAa,GAAG;oBAClB,WAAW;wBACT,cAAc,CAAA,OAAQ,OAAO;oBAC/B,GAAG;gBACL,OAAO;oBACN,QAAQ,GAAG,CAAC;oBACX,cAAc;oBACd,OAAO,IAAI,CAAC;gBACd;YACF;QACF;QAEA,IAAI,YAAY;YACd;QACF,OAAK;YACD,QAAQ,GAAG,CAAC;QAChB;IACF,GAAG;QAAC;QAAM;QAAU;QAAQ;QAAY;KAAW;IAEnD,IAAI,cAAc,WAAW;QAC3B,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,8DAA8D;IAC9D,qBAAO;kBAAG;;AACZ,EAEA,gBAAgB;CAEhB,+CAA+C;CAC/C,+CAA+C;CAC/C,0DAA0D;CAC1D,0DAA0D;CAC1D,yDAAyD;CAEzD,kCAAkC;CAClC,+BAA+B;CAC/B,IAAI;CAEJ,8EAA8E;CAC9E,gCAAgC;CAChC,iDAAiD;CACjD,+EAA+E;CAC/E,wDAAwD;CACxD,qDAAqD;CAErD,sBAAsB;CACtB,sCAAsC;CACtC,cAAc;CACd,+CAA+C;CAC/C,gDAAgD;CAEhD,wEAAwE;CACxE,oCAAoC;CACpC,0CAA0C;CAC1C,uFAAuF;CACvF,+BAA+B;CAC/B,+CAA+C;CAC/C,sBAAsB;CACtB,iDAAiD;CACjD,YAAY;CAEZ,gCAAgC;CAChC,0BAA0B;CAC1B,6CAA6C;CAE7C,8DAA8D;CAC9D,gCAAgC;CAChC,iFAAiF;CACjF,+BAA+B;CAC/B,+CAA+C;CAC/C,sBAAsB;CACtB,mBAAmB;CACnB,+DAA+D;CAC/D,sEAAsE;CACtE,kCAAkC;CAClC,mCAAmC;CACnC,YAAY;CACZ,UAAU;CACV,SAAS;CAET,wBAAwB;CACxB,qBAAqB;CACrB,QAAQ;CACR,2DAA2D;CAE3D,mCAAmC;CACnC,iCAAiC;CACjC,eAAe;CACf,oEAAoE;CACpE,6GAA6G;CAC7G,eAAe;CACf,SAAS;CACT,MAAM;CAEN,6DAA6D;CAC7D,kBAAkB;CAClB,2EAA2E;CAC3E,6BAA6B;CAC7B,eAAe;CACf,oEAAoE;CACpE,6GAA6G;CAC7G,eAAe;CACf,SAAS;CACT,MAAM;CAEN,2DAA2D;CAC3D,4BAA4B;CAC5B,IAAI","debugId":null}}]
}