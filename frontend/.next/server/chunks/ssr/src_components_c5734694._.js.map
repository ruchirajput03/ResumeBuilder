{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/Resume/ResumeUploader.tsx"],"sourcesContent":["// \"use client\";\r\n// import { useState, useRef } from \"react\";\r\n// import { motion } from \"framer-motion\";\r\n// import { UploadCloud, PencilLine, FileText } from \"lucide-react\";\r\n// import axios from \"axios\";\r\n\r\n// export default function ResumeUploader() {\r\n//   const [file, setFile] = useState<File | null>(null);\r\n//   const [isEditing, setIsEditing] = useState(false);\r\n//   const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n//   const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n//     const selectedFile = e.target.files?.[0];\r\n//     if (selectedFile && selectedFile.type === \"application/pdf\") {\r\n//       setFile(selectedFile);\r\n//       setIsEditing(false);\r\n//     } else {\r\n//       alert(\"Please upload a valid PDF file.\");\r\n//     }\r\n//   };\r\n\r\n//   const handleUpload = async () => {\r\n//     if (!file) return;\r\n\r\n//     const formData = new FormData();\r\n//     formData.append(\"resume\", file);\r\n\r\n//     try {\r\n//       const res = await axios.post(\r\n//         process.env.API_URL+\"resume/upload\",\r\n//         formData,\r\n//         {\r\n//           headers: { \"Content-Type\": \"multipart/form-data\" },\r\n//           withCredentials: true,\r\n//         }\r\n//       );\r\n\r\n//       console.log(\"✅ Upload success:\", res.data);\r\n//       alert(\"Resume uploaded successfully!\");\r\n//     } catch (error: any) {\r\n//       console.error(\"❌ Upload failed:\", error);\r\n//       alert(error.response?.data?.message || \"Upload failed\");\r\n//     }\r\n//   };\r\n\r\n//   const triggerFileSelect = () => {\r\n//     fileInputRef.current?.click();\r\n//   };\r\n\r\n//   return (\r\n//     <motion.div\r\n//       className=\"p-6 rounded-xl shadow-md space-y-4\"\r\n//       initial={{ opacity: 0, x: -50 }}\r\n//       animate={{ opacity: 1, x: 0 }}\r\n//     >\r\n//       <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n//         <UploadCloud className=\"w-5 h-5\" /> Upload / Edit Resume\r\n//       </h2>\r\n\r\n//       {!file && (\r\n//         <>\r\n//           <input\r\n//             type=\"file\"\r\n//             accept=\"application/pdf\"\r\n//             onChange={handleFileChange}\r\n//             ref={fileInputRef}\r\n//             className=\"hidden\"\r\n//           />\r\n//           <button\r\n//             onClick={triggerFileSelect}\r\n//             className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md\"\r\n//           >\r\n//             Upload Resume\r\n//           </button>\r\n//         </>\r\n//       )}\r\n\r\n//       {file && (\r\n//         <div className=\"space-y-2\">\r\n//           <div className=\"flex items-center justify-between px-4 py-2 rounded-md\">\r\n//             <span className=\"flex items-center gap-2 text-sm\">\r\n//               <FileText className=\"w-4 h-4\" />\r\n//               {file.name}\r\n//             </span>\r\n//             <button\r\n//               onClick={() => setIsEditing(true)}\r\n//               className=\"text-blue-600 hover:underline text-sm flex items-center gap-1\"\r\n//             >\r\n//               <PencilLine className=\"w-4 h-4\" /> Edit\r\n//             </button>\r\n//           </div>\r\n\r\n//           {isEditing && (\r\n//             <>\r\n//               <input\r\n//                 type=\"file\"\r\n//                 accept=\"application/pdf\"\r\n//                 onChange={handleFileChange}\r\n//                 ref={fileInputRef}\r\n//                 className=\"hidden\"\r\n//               />\r\n//               <button\r\n//                 onClick={triggerFileSelect}\r\n//                 className=\"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-md\"\r\n//               >\r\n//                 Choose New Resume\r\n//               </button>\r\n//             </>\r\n//           )}\r\n\r\n//           <button\r\n//             onClick={handleUpload}\r\n//             className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md w-full\"\r\n//           >\r\n//             Upload Now\r\n//           </button>\r\n//         </div>\r\n//       )}\r\n//     </motion.div>\r\n//   );\r\n// }\r\n\"use client\";\r\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { UploadCloud, PencilLine, FileText, Trash2, Loader2 } from \"lucide-react\";\r\nimport axios, { AxiosError } from \"axios\";\r\n\r\ninterface ApiErrorResponse {\r\n  message?: string;\r\n}\r\n\r\ninterface UploadResponse {\r\n  success: boolean;\r\n  message?: string;\r\n  data?: {\r\n    _id: string;\r\n    userId: string;\r\n    file: string;\r\n  };\r\n}\r\n\r\ninterface ResumeData {\r\n  _id: string;\r\n  userId: string;\r\n  file: string;\r\n}\r\n\r\nexport default function ResumeUploader() {\r\n  const [file, setFile] = useState<File | null>(null);\r\n  const [existingResume, setExistingResume] = useState<ResumeData | null>(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n  // Fetch existing resume on component mount\r\n  useEffect(() => {\r\n    const fetchResume = async () => {\r\n      try {\r\n        const response = await axios.get<{ data: ResumeData }>(\r\n          `${process.env.API_URL}resume`,\r\n          { withCredentials: true }\r\n        );\r\n        if (response.data.data) {\r\n          setExistingResume(response.data.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(\"No existing resume found or error fetching resume\");\r\n      }\r\n    };\r\n    fetchResume();\r\n  }, []);\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const selectedFile = e.target.files?.[0];\r\n    if (selectedFile && selectedFile.type === \"application/pdf\") {\r\n      setFile(selectedFile);\r\n      setIsEditing(false);\r\n    } else {\r\n      alert(\"Please upload a valid PDF file.\");\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!existingResume) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      await axios.delete(\r\n        `${process.env.API_URL}resume/${existingResume._id}`,\r\n        { withCredentials: true }\r\n      );\r\n      setExistingResume(null);\r\n      alert(\"Resume deleted successfully!\");\r\n    } catch (error) {\r\n      const axiosError = error as AxiosError<ApiErrorResponse>;\r\n      console.error(\"❌ Delete failed:\", axiosError);\r\n      alert(axiosError.response?.data?.message || \"Delete failed\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!file) return;\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"resume\", file);\r\n\r\n    try {\r\n      setIsUploading(true);\r\n      \r\n      // Delete existing resume if it exists\r\n      if (existingResume) {\r\n        await handleDelete();\r\n      }\r\n\r\n      // Upload new resume\r\n      const res = await axios.post<UploadResponse>(\r\n        `${process.env.API_URL}resume/upload`,\r\n        formData,\r\n        {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n          withCredentials: true,\r\n        }\r\n      );\r\n\r\n      if (res.data.data) {\r\n        setExistingResume(res.data.data);\r\n      }\r\n      console.log(\"✅ Upload success:\", res.data);\r\n      alert(\"Resume uploaded successfully!\");\r\n      setFile(null);\r\n    } catch (error) {\r\n      const axiosError = error as AxiosError<ApiErrorResponse>;\r\n      console.error(\"❌ Upload failed:\", axiosError);\r\n      alert(axiosError.response?.data?.message || \"Upload failed\");\r\n    } finally {\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  const triggerFileSelect = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-6 rounded-xl shadow-md space-y-4\"\r\n      initial={{ opacity: 0, x: -50 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n    >\r\n      <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n        <UploadCloud className=\"w-5 h-5\" /> Resume Management\r\n      </h2>\r\n\r\n      {existingResume && (\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-md\">\r\n            <span className=\"flex items-center gap-2 text-sm\">\r\n              <FileText className=\"w-4 h-4\" />\r\n              {existingResume.file.split('/').pop()}\r\n            </span>\r\n            <div className=\"flex gap-2\">\r\n              <a\r\n                href={`http://localhost:8000${existingResume.file}`}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-blue-600 hover:underline text-sm flex items-center gap-1\"\r\n              >\r\n                 View\r\n              </a>\r\n              <button\r\n                onClick={() => setIsEditing(true)}\r\n                className=\"text-blue-600 hover:underline text-sm flex items-center gap-1\"\r\n              >\r\n                <PencilLine className=\"w-4 h-4\" /> Replace\r\n              </button>\r\n              <button\r\n                onClick={handleDelete}\r\n                disabled={isDeleting}\r\n                className=\"text-red-600 hover:underline text-sm flex items-center gap-1\"\r\n              >\r\n                {isDeleting ? (\r\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                ) : (\r\n                  <Trash2 className=\"w-4 h-4\" />\r\n                )}\r\n                Delete\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {(isEditing || !existingResume) && (\r\n        <>\r\n          <input\r\n            type=\"file\"\r\n            accept=\"application/pdf\"\r\n            onChange={handleFileChange}\r\n            ref={fileInputRef}\r\n            className=\"hidden\"\r\n          />\r\n          <div className=\"space-y-2\">\r\n            {file ? (\r\n              <div className=\"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 px-4 py-2 rounded-md border border-blue-200 dark:border-blue-800\">\r\n                <span className=\"flex items-center gap-2 text-sm\">\r\n                  <FileText className=\"w-4 h-4\" />\r\n                  {file.name}\r\n                </span>\r\n                <button\r\n                  onClick={() => setFile(null)}\r\n                  className=\"text-red-600 hover:underline text-sm flex items-center gap-1\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4\" /> Remove\r\n                </button>\r\n              </div>\r\n            ) : (\r\n              <button\r\n                onClick={triggerFileSelect}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md w-full\"\r\n              >\r\n                Select PDF File\r\n              </button>\r\n            )}\r\n\r\n            {file && (\r\n              <button\r\n                onClick={handleUpload}\r\n                disabled={isUploading}\r\n                className=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md w-full flex items-center justify-center gap-2\"\r\n              >\r\n                {isUploading ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                    Uploading...\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <UploadCloud className=\"w-4 h-4\" />\r\n                    {existingResume ? \"Replace Resume\" : \"Upload Resume\"}\r\n                  </>\r\n                )}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 458, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/Resume/ThemeSelector.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ThemeOption } from \"@/components/types/theme\";\r\n\r\ninterface Props {\r\n  onChange: (theme: ThemeOption) => void;\r\n}\r\n\r\nconst themes: ThemeOption[] = [\"light\", \"dark\", \"ocean\", \"forest\"];\r\n\r\nexport default function ThemeSelector({ onChange }: Props) {\r\n  const [selected, setSelected] = useState<ThemeOption>(\"light\");\r\n\r\n  const handleChange = (theme: ThemeOption) => {\r\n    setSelected(theme);\r\n    onChange(theme);\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"flex gap-3 flex-wrap items-center\"\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n    >\r\n      <span className=\"font-medium\">Select Theme:</span>\r\n      {themes.map((theme) => (\r\n        <button\r\n          key={theme}\r\n          onClick={() => handleChange(theme)}\r\n          className={`px-3 py-1 rounded-full border text-sm capitalize ${\r\n            selected === theme\r\n              ? \"bg-blue-600 text-white\"\r\n              : \"bg-gray-200 dark:bg-gray-700 dark:text-gray-100\"\r\n          }`}\r\n        >\r\n          {theme}\r\n        </button>\r\n      ))}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AASA,MAAM,SAAwB;IAAC;IAAS;IAAQ;IAAS;CAAS;AAEnD,SAAS,cAAc,EAAE,QAAQ,EAAS;IACvD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAEtD,MAAM,eAAe,CAAC;QACpB,YAAY;QACZ,SAAS;IACX;IAEA,qBACE,8OAAC,0LAAA,CAAA,SAAM,CAAC,GAAG;QACT,WAAU;QACV,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;;0BAEtB,8OAAC;gBAAK,WAAU;0BAAc;;;;;;YAC7B,OAAO,GAAG,CAAC,CAAC,sBACX,8OAAC;oBAEC,SAAS,IAAM,aAAa;oBAC5B,WAAW,CAAC,iDAAiD,EAC3D,aAAa,QACT,2BACA,mDACJ;8BAED;mBARI;;;;;;;;;;;AAaf","debugId":null}},
    {"offset": {"line": 517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/lib/resumeThemes.ts"],"sourcesContent":["import type { ThemeOption } from \"../types/theme\";\r\n\r\nexport const themeStyles: Record<ThemeOption, string> = {\r\n  light: \"bg-white text-black border-gray-200\",\r\n  dark: \"bg-gray-800 text-white border-gray-600\",\r\n  ocean: \"bg-blue-100 text-blue-900 border-blue-400\",\r\n  forest: \"bg-green-100 text-green-900 border-green-400\",\r\n};"],"names":[],"mappings":";;;AAEO,MAAM,cAA2C;IACtD,OAAO;IACP,MAAM;IACN,OAAO;IACP,QAAQ;AACV","debugId":null}},
    {"offset": {"line": 530, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/Admin/pdf.tsx"],"sourcesContent":["// \"use client\";\r\n\r\n// import { useEffect, useRef, useState } from \"react\";\r\n// import type * as PDFJS from \"pdfjs-dist\";\r\n\r\n// interface Props {\r\n//   fileUrl: string;\r\n// }\r\n\r\n// export default function PDFViewer({ fileUrl }: Props) {\r\n//   const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n//   const [error, setError] = useState<string | null>(null);\r\n//   const [loading, setLoading] = useState<boolean>(false);\r\n//   const [pdfjsLib, setPdfjsLib] = useState<typeof PDFJS | null>(null);\r\n//   const [currentPage, setCurrentPage] = useState(1);\r\n//   const [totalPages, setTotalPages] = useState(0);\r\n//   const [pdfDoc, setPdfDoc] = useState<any>(null);\r\n\r\n//   useEffect(() => {\r\n//     const loadPdfjs = async () => {\r\n//       try {\r\n//         const pdfjs = await import(\"pdfjs-dist\");\r\n        \r\n//         // Try multiple worker sources\r\n//         const workerSources = [\r\n//           `/pdf.worker.min.js`, // Local worker (you'll need to copy this to public folder)\r\n//           `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`,\r\n//           `https://unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`\r\n//         ];\r\n\r\n//         // Try to set worker, fallback if needed\r\n//         let workerSet = false;\r\n//         for (const workerSrc of workerSources) {\r\n//           try {\r\n//             pdfjs.GlobalWorkerOptions.workerSrc = workerSrc;\r\n//             workerSet = true;\r\n//             break;\r\n//           } catch (err) {\r\n//             console.log(err)\r\n//             console.warn(`Failed to set worker: ${workerSrc}`);\r\n//           }\r\n//         }\r\n\r\n//         if (!workerSet) {\r\n//           console.warn(\"No worker could be set, PDF.js might not work properly\");\r\n//         }\r\n\r\n//         setPdfjsLib(pdfjs);\r\n//       } catch (err) {\r\n//         console.error(\"Failed to load PDF.js:\", err);\r\n//         setError(\"Failed to load PDF library\");\r\n//       }\r\n//     };\r\n\r\n//     loadPdfjs();\r\n//   }, []);\r\n\r\n//   const renderPage = async (pageNum: number) => {\r\n//     if (!pdfDoc) return;\r\n\r\n//     try {\r\n//       const page = await pdfDoc.getPage(pageNum);\r\n//       const viewport = page.getViewport({ scale: 1.2 });\r\n//       const canvas = canvasRef.current;\r\n\r\n//       if (!canvas) {\r\n//         setError(\"Canvas not available\");\r\n//         return;\r\n//       }\r\n\r\n//       const context = canvas.getContext(\"2d\");\r\n//       canvas.height = viewport.height;\r\n//       canvas.width = viewport.width;\r\n\r\n//       const renderContext = {\r\n//         canvasContext: context!,\r\n//         viewport: viewport,\r\n//       };\r\n\r\n//       await page.render(renderContext).promise;\r\n//     } catch (err: any) {\r\n//       console.error(\"Error rendering page:\", err);\r\n//       setError(`Failed to render page: ${err.message}`);\r\n//     }\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (!pdfjsLib || !fileUrl) return;\r\n\r\n//     const loadPDF = async () => {\r\n//       try {\r\n//         setLoading(true);\r\n//         setError(null);\r\n\r\n//         const loadingTask = pdfjsLib.getDocument({\r\n//           url: fileUrl,\r\n//           verbosity: 0,\r\n//           // Add CORS headers if needed\r\n//           httpHeaders: {\r\n//             'Access-Control-Allow-Origin': '*',\r\n//           },\r\n//         });\r\n\r\n//         const pdf = await loadingTask.promise;\r\n//         setPdfDoc(pdf);\r\n//         setTotalPages(pdf.numPages);\r\n//         setCurrentPage(1);\r\n        \r\n//         // Render first page\r\n//         const page = await pdf.getPage(1);\r\n//         const viewport = page.getViewport({ scale: 1.2 });\r\n//         const canvas = canvasRef.current;\r\n\r\n//         if (!canvas) {\r\n//           setError(\"Canvas not available\");\r\n//           return;\r\n//         }\r\n\r\n//         const context = canvas.getContext(\"2d\");\r\n//         canvas.height = viewport.height;\r\n//         canvas.width = viewport.width;\r\n\r\n//         const renderContext = {\r\n//           canvasContext: context!,\r\n//           viewport: viewport,\r\n//         };\r\n\r\n//         await page.render(renderContext).promise;\r\n//         setLoading(false);\r\n//       } catch (err: any) {\r\n//         console.error(\"Error loading PDF:\", err);\r\n//         setError(`Failed to load PDF: ${err.message}`);\r\n//         setLoading(false);\r\n//       }\r\n//     };\r\n\r\n//     loadPDF();\r\n//   }, [pdfjsLib, fileUrl]);\r\n\r\n//   const goToPage = (pageNum: number) => {\r\n//     if (pageNum >= 1 && pageNum <= totalPages) {\r\n//       setCurrentPage(pageNum);\r\n//       renderPage(pageNum);\r\n//     }\r\n//   };\r\n\r\n//   if (!pdfjsLib) {\r\n//     return <div style={{ padding: \"20px\", textAlign: \"center\" }}>Loading PDF library...</div>;\r\n//   }\r\n\r\n//   return (\r\n//     <div style={{ maxWidth: \"800px\", margin: \"0 auto\" }}>\r\n//       {loading && (\r\n//         <div\r\n//           style={{\r\n//             padding: \"20px\",\r\n//             textAlign: \"center\",\r\n//             border: \"1px solid #ccc\",\r\n//             borderRadius: \"4px\",\r\n//             marginBottom: \"10px\",\r\n//           }}\r\n//         >\r\n//           Loading PDF...\r\n//         </div>\r\n//       )}\r\n\r\n//       {error && (\r\n//         <div\r\n//           style={{\r\n//             padding: \"20px\",\r\n//             textAlign: \"center\",\r\n//             color: \"red\",\r\n//             border: \"1px solid red\",\r\n//             borderRadius: \"4px\",\r\n//             margin: \"10px 0\",\r\n//           }}\r\n//         >\r\n//           <p>{error}</p>\r\n//           <p>\r\n//             Try opening directly:\r\n//             <a\r\n//               href={fileUrl}\r\n//               target=\"_blank\"\r\n//               rel=\"noopener noreferrer\"\r\n//               style={{ color: \"#007bff\", textDecoration: \"underline\", marginLeft: \"5px\" }}\r\n//             >\r\n//               Open PDF\r\n//             </a>\r\n//           </p>\r\n//         </div>\r\n//       )}\r\n\r\n//       {totalPages > 0 && (\r\n//         <div\r\n//           style={{\r\n//             padding: \"10px\",\r\n//             textAlign: \"center\",\r\n//             border: \"1px solid #ccc\",\r\n//             borderRadius: \"4px\",\r\n//             marginBottom: \"10px\",\r\n//             backgroundColor: \"#f8f9fa\",\r\n//           }}\r\n//         >\r\n//           <button\r\n//             onClick={() => goToPage(currentPage - 1)}\r\n//             disabled={currentPage <= 1}\r\n//             style={{\r\n//               padding: \"5px 10px\",\r\n//               marginRight: \"10px\",\r\n//               backgroundColor: currentPage <= 1 ? \"#ccc\" : \"#007bff\",\r\n//               color: \"white\",\r\n//               border: \"none\",\r\n//               borderRadius: \"3px\",\r\n//               cursor: currentPage <= 1 ? \"not-allowed\" : \"pointer\",\r\n//             }}\r\n//           >\r\n//             Previous\r\n//           </button>\r\n          \r\n//           <span style={{ margin: \"0 15px\", fontWeight: \"bold\" }}>\r\n//             Page {currentPage} of {totalPages}\r\n//           </span>\r\n          \r\n//           <button\r\n//             onClick={() => goToPage(currentPage + 1)}\r\n//             disabled={currentPage >= totalPages}\r\n//             style={{\r\n//               padding: \"5px 10px\",\r\n//               marginLeft: \"10px\",\r\n//               backgroundColor: currentPage >= totalPages ? \"#ccc\" : \"#007bff\",\r\n//               color: \"white\",\r\n//               border: \"none\",\r\n//               borderRadius: \"3px\",\r\n//               cursor: currentPage >= totalPages ? \"not-allowed\" : \"pointer\",\r\n//             }}\r\n//           >\r\n//             Next\r\n//           </button>\r\n//         </div>\r\n//       )}\r\n\r\n//       <canvas\r\n//         ref={canvasRef}\r\n//         style={{\r\n//           border: \"1px solid #000\",\r\n//           maxWidth: \"100%\",\r\n//           display: error ? \"none\" : \"block\",\r\n//           borderRadius: \"4px\",\r\n//           boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\",\r\n//         }}\r\n//       />\r\n//     </div>\r\n//   );\r\n// } \r\n\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport type * as PDFJS from \"pdfjs-dist\";\r\n\r\ninterface Props {\r\n  fileUrl: string;\r\n}\r\n\r\ntype PDFDocumentProxy = PDFJS.PDFDocumentProxy;\r\n\r\nexport default function PDFViewer({ fileUrl }: Props) {\r\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [pdfjsLib, setPdfjsLib] = useState<typeof PDFJS | null>(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(0);\r\n  const [pdfDoc, setPdfDoc] = useState<PDFDocumentProxy | null>(null);\r\n\r\n  useEffect(() => {\r\n    const loadPdfjs = async () => {\r\n      try {\r\n        const pdfjs = await import(\"pdfjs-dist\");\r\n        \r\n        // Try multiple worker sources\r\n        const workerSources = [\r\n          `/pdf.worker.min.js`, // Local worker (you'll need to copy this to public folder)\r\n          `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`,\r\n          `https://unpkg.com/pdfjs-dist@${pdfjs.version}/build/pdf.worker.min.js`\r\n        ];\r\n\r\n        // Try to set worker, fallback if needed\r\n        let workerSet = false;\r\n        for (const workerSrc of workerSources) {\r\n          try {\r\n            pdfjs.GlobalWorkerOptions.workerSrc = workerSrc;\r\n            workerSet = true;\r\n            break;\r\n          } catch (e) {\r\n            console.log(e)\r\n            console.warn(`Failed to set worker: ${workerSrc}`);\r\n          }\r\n        }\r\n\r\n        if (!workerSet) {\r\n          console.warn(\"No worker could be set, PDF.js might not work properly\");\r\n        }\r\n\r\n        setPdfjsLib(pdfjs);\r\n      } catch (err) {\r\n        console.error(\"Failed to load PDF.js:\", err);\r\n        setError(\"Failed to load PDF library\");\r\n      }\r\n    };\r\n\r\n    loadPdfjs();\r\n  }, []);\r\n\r\n  const renderPage = async (pageNum: number) => {\r\n    if (!pdfDoc) return;\r\n\r\n    try {\r\n      const page = await pdfDoc.getPage(pageNum);\r\n      const viewport = page.getViewport({ scale: 1.2 });\r\n      const canvas = canvasRef.current;\r\n\r\n      if (!canvas) {\r\n        setError(\"Canvas not available\");\r\n        return;\r\n      }\r\n\r\n      const context = canvas.getContext(\"2d\");\r\n      if (!context) {\r\n        setError(\"Could not get canvas context\");\r\n        return;\r\n      }\r\n\r\n      canvas.height = viewport.height;\r\n      canvas.width = viewport.width;\r\n\r\n      const renderContext = {\r\n        canvasContext: context,\r\n        viewport: viewport,\r\n      };\r\n\r\n      await page.render(renderContext).promise;\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : \"Unknown error\";\r\n      console.error(\"Error rendering page:\", err);\r\n      setError(`Failed to render page: ${errorMessage}`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!pdfjsLib || !fileUrl) return;\r\n\r\n    const loadPDF = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        const loadingTask = pdfjsLib.getDocument({\r\n          url: fileUrl,\r\n          verbosity: 0,\r\n          // Add CORS headers if needed\r\n          httpHeaders: {\r\n            'Access-Control-Allow-Origin': '*',\r\n          },\r\n        });\r\n\r\n        const pdf = await loadingTask.promise;\r\n        setPdfDoc(pdf);\r\n        setTotalPages(pdf.numPages);\r\n        setCurrentPage(1);\r\n        \r\n        // Render first page\r\n        const page = await pdf.getPage(1);\r\n        const viewport = page.getViewport({ scale: 1.2 });\r\n        const canvas = canvasRef.current;\r\n\r\n        if (!canvas) {\r\n          setError(\"Canvas not available\");\r\n          return;\r\n        }\r\n\r\n        const context = canvas.getContext(\"2d\");\r\n        if (!context) {\r\n          setError(\"Could not get canvas context\");\r\n          return;\r\n        }\r\n\r\n        canvas.height = viewport.height;\r\n        canvas.width = viewport.width;\r\n\r\n        const renderContext = {\r\n          canvasContext: context,\r\n          viewport: viewport,\r\n        };\r\n\r\n        await page.render(renderContext).promise;\r\n        setLoading(false);\r\n      } catch (err) {\r\n        const errorMessage = err instanceof Error ? err.message : \"Unknown error\";\r\n        console.error(\"Error loading PDF:\", err);\r\n        setError(`Failed to load PDF: ${errorMessage}`);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadPDF();\r\n  }, [pdfjsLib, fileUrl]);\r\n\r\n  const goToPage = (pageNum: number) => {\r\n    if (pageNum >= 1 && pageNum <= totalPages) {\r\n      setCurrentPage(pageNum);\r\n      renderPage(pageNum);\r\n    }\r\n  };\r\n\r\n  if (!pdfjsLib) {\r\n    return <div style={{ padding: \"20px\", textAlign: \"center\" }}>Loading PDF library...</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"800px\", margin: \"0 auto\" }}>\r\n      {loading && (\r\n        <div\r\n          style={{\r\n            padding: \"20px\",\r\n            textAlign: \"center\",\r\n            border: \"1px solid #ccc\",\r\n            borderRadius: \"4px\",\r\n            marginBottom: \"10px\",\r\n          }}\r\n        >\r\n          Loading PDF...\r\n        </div>\r\n      )}\r\n\r\n      {error && (\r\n        <div\r\n          style={{\r\n            padding: \"20px\",\r\n            textAlign: \"center\",\r\n            color: \"red\",\r\n            border: \"1px solid red\",\r\n            borderRadius: \"4px\",\r\n            margin: \"10px 0\",\r\n          }}\r\n        >\r\n          <p>{error}</p>\r\n          <p>\r\n            Try opening directly:\r\n            <a\r\n              href={fileUrl}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              style={{ color: \"#007bff\", textDecoration: \"underline\", marginLeft: \"5px\" }}\r\n            >\r\n              Open PDF\r\n            </a>\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {totalPages > 0 && (\r\n        <div\r\n          style={{\r\n            padding: \"10px\",\r\n            textAlign: \"center\",\r\n            border: \"1px solid #ccc\",\r\n            borderRadius: \"4px\",\r\n            marginBottom: \"10px\",\r\n            backgroundColor: \"#f8f9fa\",\r\n          }}\r\n        >\r\n          <button\r\n            onClick={() => goToPage(currentPage - 1)}\r\n            disabled={currentPage <= 1}\r\n            style={{\r\n              padding: \"5px 10px\",\r\n              marginRight: \"10px\",\r\n              backgroundColor: currentPage <= 1 ? \"#ccc\" : \"#007bff\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: \"3px\",\r\n              cursor: currentPage <= 1 ? \"not-allowed\" : \"pointer\",\r\n            }}\r\n          >\r\n            Previous\r\n          </button>\r\n          \r\n          <span style={{ margin: \"0 15px\", fontWeight: \"bold\" }}>\r\n            Page {currentPage} of {totalPages}\r\n          </span>\r\n          \r\n          <button\r\n            onClick={() => goToPage(currentPage + 1)}\r\n            disabled={currentPage >= totalPages}\r\n            style={{\r\n              padding: \"5px 10px\",\r\n              marginLeft: \"10px\",\r\n              backgroundColor: currentPage >= totalPages ? \"#ccc\" : \"#007bff\",\r\n              color: \"white\",\r\n              border: \"none\",\r\n              borderRadius: \"3px\",\r\n              cursor: currentPage >= totalPages ? \"not-allowed\" : \"pointer\",\r\n            }}\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <canvas\r\n        ref={canvasRef}\r\n        style={{\r\n          border: \"1px solid #000\",\r\n          maxWidth: \"100%\",\r\n          display: error ? \"none\" : \"block\",\r\n          borderRadius: \"4px\",\r\n          boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\",\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1062, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ruchi/OneDrive/Desktop/ResumeBuilderApp/ResumeBuilder/frontend/src/components/Resume/ResumePreview.tsx"],"sourcesContent":["// \"use client\";\r\n// import { useState, useEffect } from \"react\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\n// import { motion } from \"framer-motion\";\r\n// import { FileText, Loader2, AlertCircle, Eye, ExternalLink } from \"lucide-react\";\r\n// import ThemeSelector from \"@/components/Resume/ThemeSelector\";\r\n// import { ThemeOption } from \"@/components/types/theme\";\r\n// import { themeStyles } from \"@/components/lib/resumeThemes\";\r\n// import PDFViewer from \"@/components/Admin/pdf\";\r\n// import { \r\n//   fetchUser, \r\n//   selectUser, \r\n//   selectAuthLoading, \r\n//   selectAuthError,\r\n//   selectIsAuthenticated \r\n// } from \"@/store/slices/authSlices\";\r\n// import type { AppDispatch } from \"@/store/store\";\r\n\r\n// // Define more specific types\r\n// interface ResumeObject {\r\n//   _id: string;\r\n//   file?: string;\r\n//   [key: string]: any;\r\n// }\r\n\r\n// interface User {\r\n//   id: string;\r\n//   name: string;\r\n//   email: string;\r\n//   role?: string;\r\n//   resume?: string | ResumeObject;\r\n//   [key: string]: any;\r\n// }\r\n\r\n// // Type guard for ResumeObject\r\n// function isResumeObject(resume: any): resume is ResumeObject {\r\n//   return typeof resume === 'object' && '_id' in resume;\r\n// }\r\n\r\n// // Type guard for ResumeObject with file\r\n// function hasFile(resume: any): resume is { file: string } & ResumeObject {\r\n//   return isResumeObject(resume) && 'file' in resume && typeof resume.file === 'string';\r\n// }\r\n\r\n// export default function ResumePreview() {\r\n//   const [theme, setTheme] = useState<ThemeOption>(\"light\");\r\n//   const [showPDFViewer, setShowPDFViewer] = useState(false);\r\n  \r\n//   const dispatch = useDispatch<AppDispatch>();\r\n//   const user = useSelector(selectUser) as User | null;\r\n//   const isLoading = useSelector(selectAuthLoading);\r\n//   const error = useSelector(selectAuthError);\r\n//   const isAuthenticated = useSelector(selectIsAuthenticated);\r\n\r\n//   const getPDFUrl = (filePath: string) => {\r\n//     const baseUrl = process.env.API_URL || 'http://localhost:8000';\r\n//     return filePath.startsWith('http') ? filePath : `${baseUrl}${filePath}`;\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (isAuthenticated && !user) {\r\n//       dispatch(fetchUser());\r\n//     }\r\n//   }, [dispatch, isAuthenticated, user]);\r\n\r\n//   const renderResumeContent = () => {\r\n//     if (isLoading) {\r\n//       return (\r\n//         <div className=\"flex items-center justify-center gap-2\">\r\n//           <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n//           <p className=\"text-sm opacity-80\">Loading resume...</p>\r\n//         </div>\r\n//       );\r\n//     }\r\n\r\n//     if (error) {\r\n//       return (\r\n//         <div className=\"flex items-center justify-center gap-2 text-red-500\">\r\n//           <AlertCircle className=\"w-5 h-5\" />\r\n//           <p className=\"text-sm\">Error loading resume: {error}</p>\r\n//         </div>\r\n//       );\r\n//     }\r\n\r\n//     if (!isAuthenticated) {\r\n//       return (\r\n//         <div className=\"text-center\">\r\n//           <p className=\"text-sm opacity-80\">Please log in to view your resume</p>\r\n//         </div>\r\n//       );\r\n//     }\r\n\r\n//     if (user?.resume) {\r\n//       const resumeContent = typeof user.resume === 'string' \r\n//         ? user.resume \r\n//         : hasFile(user.resume) \r\n//           ? user.resume.file \r\n//           : JSON.stringify(user.resume, null, 2);\r\n\r\n//       const isPDF = hasFile(user.resume) && user.resume.file.toLowerCase().endsWith('.pdf');\r\n\r\n//       return (\r\n//         <div className=\"text-left space-y-4 overflow-auto max-h-full\">\r\n//           <div className=\"text-sm font-medium\">Resume Content:</div>\r\n          \r\n//           {isResumeObject(user.resume) ? (\r\n//             <div className=\"space-y-3\">\r\n//               <div className=\"text-xs text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded\">\r\n//                 <strong>Resume ID:</strong> {user.resume._id}\r\n//               </div>\r\n              \r\n//               {hasFile(user.resume) ? (\r\n//                 <div className=\"space-y-2\">\r\n//                   <div className=\"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800\">\r\n//                     <div className=\"flex items-center gap-2\">\r\n//                       <FileText className=\"w-4 h-4 text-blue-600\" />\r\n//                       <span className=\"text-sm font-medium text-blue-800 dark:text-blue-200\">\r\n//                         {user.resume.file.split('/').pop() || 'Resume File'}\r\n//                       </span>\r\n//                     </div>\r\n                    \r\n//                     <div className=\"flex gap-2\">\r\n//                       {isPDF && (\r\n//                         <button\r\n//                           onClick={() => setShowPDFViewer(true)}\r\n//                           className=\"flex items-center gap-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors\"\r\n//                         >\r\n//                           <Eye className=\"w-3 h-3\" />\r\n//                           Preview\r\n//                         </button>\r\n//                       )}\r\n                      \r\n//                       <a\r\n//                         href={getPDFUrl(user.resume.file)}\r\n//                         target=\"_blank\"\r\n//                         rel=\"noopener noreferrer\"\r\n//                         className=\"flex items-center gap-1 px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-colors\"\r\n//                       >\r\n//                         <ExternalLink className=\"w-3 h-3\" />\r\n//                         Open\r\n//                       </a>\r\n//                     </div>\r\n//                   </div>\r\n                  \r\n//                   <div className=\"text-xs text-gray-500\">\r\n//                     File Path: <code className=\"bg-gray-100 dark:bg-gray-800 px-1 rounded\">{user.resume.file}</code>\r\n//                   </div>\r\n//                 </div>\r\n//               ) : (\r\n//                 <div className=\"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded\">\r\n//                   <div className=\"font-medium\">Resume Object:</div>\r\n//                   <pre className=\"mt-1 text-xs\">{JSON.stringify(user.resume, null, 2)}</pre>\r\n//                 </div>\r\n//               )}\r\n//             </div>\r\n//           ) : (\r\n//             <div className=\"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded whitespace-pre-wrap\">\r\n//               {resumeContent}\r\n//             </div>\r\n//           )}\r\n//         </div>\r\n//       );\r\n//     }\r\n\r\n//     return (\r\n//       <div className=\"text-center\">\r\n//         <p className=\"text-sm opacity-80\">\r\n//           No resume found. Upload or create your resume to see the preview.\r\n//         </p>\r\n//         <p className=\"text-xs opacity-60 mt-2\">\r\n//           Theme: <strong>{theme}</strong>\r\n//         </p>\r\n//       </div>\r\n//     );\r\n//   };\r\n\r\n//   if (showPDFViewer && user?.resume && hasFile(user.resume)) {\r\n//     return (\r\n//       <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n//         <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\r\n//           <div className=\"flex items-center justify-between p-4 border-b\">\r\n//             <h3 className=\"text-lg font-semibold\">Resume Preview</h3>\r\n//             <button\r\n//               onClick={() => setShowPDFViewer(false)}\r\n//               className=\"text-gray-500 hover:text-gray-700 text-xl font-bold\"\r\n//             >\r\n//               ×\r\n//             </button>\r\n//           </div>\r\n//           <div className=\"p-4 overflow-auto max-h-[calc(90vh-80px)]\">\r\n//             <PDFViewer fileUrl={getPDFUrl(user.resume.file)} />\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n\r\n//   return (\r\n//     <motion.div\r\n//       className=\"p-6 rounded-xl shadow-md space-y-4 h-full\"\r\n//       initial={{ opacity: 0, x: 50 }}\r\n//       animate={{ opacity: 1, x: 0 }}\r\n//     >\r\n//       <div className=\"flex items-center justify-between\">\r\n//         <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n//           <FileText className=\"w-5 h-5\" /> Resume Preview\r\n//         </h2>\r\n//         <div className=\"flex items-center gap-2\">\r\n//           {user && (\r\n//             <span className=\"text-sm text-gray-600\">\r\n//               {user.name}\r\n//             </span>\r\n//           )}\r\n//           <ThemeSelector onChange={setTheme} />\r\n//         </div>\r\n//       </div>\r\n\r\n//       <div\r\n//         className={`rounded-lg border p-4 h-96 flex items-center justify-center transition-all duration-300 ease-in-out ${themeStyles[theme]}`}\r\n//       >\r\n//         {renderResumeContent()}\r\n//       </div>\r\n\r\n//       {process.env.NODE_ENV === 'development' && (\r\n//         <div className=\"text-xs text-gray-500 space-y-1\">\r\n//           <div>Auth Status: {isAuthenticated ? 'Authenticated' : 'Not authenticated'}</div>\r\n//           <div>User: {user ? 'Loaded' : 'Not loaded'}</div>\r\n//           <div>Resume: {user?.resume ? (typeof user.resume === 'string' ? 'String format' : 'Object format') : 'Not available'}</div>\r\n//         </div>\r\n//       )}\r\n//     </motion.div>\r\n//   );\r\n// };\r\n\r\n\"use client\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { motion } from \"framer-motion\";\r\nimport { FileText, Loader2, AlertCircle, Eye, ExternalLink } from \"lucide-react\";\r\nimport ThemeSelector from \"@/components/Resume/ThemeSelector\";\r\nimport { ThemeOption } from \"@/components/types/theme\";\r\nimport { themeStyles } from \"@/components/lib/resumeThemes\";\r\nimport PDFViewer from \"@/components/Admin/pdf\";\r\nimport { \r\n  fetchUser, \r\n  selectUser, \r\n  selectAuthLoading, \r\n  selectAuthError,\r\n  selectIsAuthenticated \r\n} from \"@/store/slices/authSlices\";\r\nimport type { AppDispatch } from \"@/store/store\";\r\n\r\ninterface ResumeObject {\r\n  _id: string;\r\n  file?: string;\r\n  // Add other known properties here if they exist\r\n  [key: string]: unknown; // Use unknown instead of any for additional properties\r\n}\r\n\r\ninterface User {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  role?: string;\r\n  resume?: string | ResumeObject;\r\n  // Add other known properties here if they exist\r\n  [key: string]: unknown; // Use unknown instead of any for additional properties\r\n}\r\n\r\nfunction isResumeObject(resume: unknown): resume is ResumeObject {\r\n  return typeof resume === 'object' && resume !== null && '_id' in resume;\r\n}\r\n\r\nfunction hasFile(resume: unknown): resume is { file: string } & ResumeObject {\r\n  return isResumeObject(resume) && 'file' in resume && typeof resume.file === 'string';\r\n}\r\n\r\nexport default function ResumePreview() {\r\n  const [theme, setTheme] = useState<ThemeOption>(\"light\");\r\n  const [showPDFViewer, setShowPDFViewer] = useState(false);\r\n  \r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const user = useSelector(selectUser) as User | null;\r\n  const isLoading = useSelector(selectAuthLoading);\r\n  const error = useSelector(selectAuthError);\r\n  const isAuthenticated = useSelector(selectIsAuthenticated);\r\n\r\n  const getPDFUrl = (filePath: string) => {\r\n    const baseUrl =  'http://localhost:8000';\r\n    return filePath.startsWith('http') ? filePath : `${baseUrl}${filePath}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated && !user) {\r\n      dispatch(fetchUser());\r\n    }\r\n  }, [dispatch, isAuthenticated, user]);\r\n\r\n  const renderResumeContent = () => {\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"flex items-center justify-center gap-2\">\r\n          <Loader2 className=\"w-5 h-5 animate-spin\" />\r\n          <p className=\"text-sm opacity-80\">Loading resume...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <div className=\"flex items-center justify-center gap-2 text-red-500\">\r\n          <AlertCircle className=\"w-5 h-5\" />\r\n          <p className=\"text-sm\">Error loading resume: {error}</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!isAuthenticated) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <p className=\"text-sm opacity-80\">Please log in to view your resume</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (user?.resume) {\r\n      let resumeContent: string;\r\n      let isPDF = false;\r\n\r\n      if (typeof user.resume === 'string') {\r\n        resumeContent = user.resume;\r\n      } else if (hasFile(user.resume)) {\r\n        resumeContent = user.resume.file;\r\n        isPDF = user.resume.file.toLowerCase().endsWith('.pdf');\r\n      } else {\r\n        resumeContent = JSON.stringify(user.resume, null, 2);\r\n      }\r\n\r\n      return (\r\n        <div className=\"text-left space-y-4 overflow-auto max-h-full\">\r\n          <div className=\"text-sm font-medium\">Resume Content:</div>\r\n          \r\n          {isResumeObject(user.resume) ? (\r\n            <div className=\"space-y-3\">\r\n              <div className=\"text-xs text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded\">\r\n                <strong>Resume ID:</strong> {user.resume._id}\r\n              </div>\r\n              \r\n              {hasFile(user.resume) ? (\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800\">\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <FileText className=\"w-4 h-4 text-blue-600\" />\r\n                      <span className=\"text-sm font-medium text-blue-800 dark:text-blue-200\">\r\n                        {user.resume.file.split('/').pop() || 'Resume File'}\r\n                      </span>\r\n                    </div>\r\n                    \r\n                    <div className=\"flex gap-2\">\r\n                      {isPDF && (\r\n                        <button\r\n                          onClick={() => setShowPDFViewer(true)}\r\n                          className=\"flex items-center gap-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors\"\r\n                        >\r\n                          <Eye className=\"w-3 h-3\" />\r\n                          Preview\r\n                        </button>\r\n                      )}\r\n                      \r\n                      <a\r\n                        href={getPDFUrl(user.resume.file)}\r\n                        target=\"_blank\"\r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"flex items-center gap-1 px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-colors\"\r\n                      >\r\n                        <ExternalLink className=\"w-3 h-3\" />\r\n                        Open\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"text-xs text-gray-500\">\r\n                    File Path: <code className=\"bg-gray-100 dark:bg-gray-800 px-1 rounded\">{user.resume.file}</code>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded\">\r\n                  <div className=\"font-medium\">Resume Object:</div>\r\n                  <pre className=\"mt-1 text-xs\">{resumeContent}</pre>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded whitespace-pre-wrap\">\r\n              {resumeContent}\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"text-center\">\r\n        <p className=\"text-sm opacity-80\">\r\n          No resume found. Upload or create your resume to see the preview.\r\n        </p>\r\n        <p className=\"text-xs opacity-60 mt-2\">\r\n          Theme: <strong>{theme}</strong>\r\n        </p>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (showPDFViewer && user?.resume && isResumeObject(user.resume) && hasFile(user.resume)) {\r\n    return (\r\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n        <div className=\"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\r\n          <div className=\"flex items-center justify-between p-4 border-b\">\r\n            <h3 className=\"text-lg font-semibold\">Resume Preview</h3>\r\n            <button\r\n              onClick={() => setShowPDFViewer(false)}\r\n              className=\"text-gray-500 hover:text-gray-700 text-xl font-bold\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n          <div className=\"p-4 overflow-auto max-h-[calc(90vh-80px)]\">\r\n            <PDFViewer fileUrl={getPDFUrl(user.resume.file)} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"p-6 rounded-xl shadow-md space-y-4 h-full\"\r\n      initial={{ opacity: 0, x: 50 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n    >\r\n      <div className=\"flex items-center justify-between\">\r\n        <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n          <FileText className=\"w-5 h-5\" /> Resume Preview\r\n        </h2>\r\n        <div className=\"flex items-center gap-2\">\r\n          {user && (\r\n            <span className=\"text-sm text-gray-600\">\r\n              {user.name}\r\n            </span>\r\n          )}\r\n          <ThemeSelector onChange={setTheme} />\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        className={`rounded-lg border p-4 h-96 flex items-center justify-center transition-all duration-300 ease-in-out ${themeStyles[theme]}`}\r\n      >\r\n        {renderResumeContent()}\r\n      </div>\r\n\r\n      {process.env.NODE_ENV === 'development' && (\r\n        <div className=\"text-xs text-gray-500 space-y-1\">\r\n          <div>Auth Status: {isAuthenticated ? 'Authenticated' : 'Not authenticated'}</div>\r\n          <div>User: {user ? 'Loaded' : 'Not loaded'}</div>\r\n          <div>Resume: {user?.resume ? (typeof user.resume === 'string' ? 'String format' : 'Object format') : 'Not available'}</div>\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}