exports.id=97,exports.ids=[97],exports.modules={5184:(a,b,c)=>{"use strict";c.d(b,{default:()=>u});var d=c(60687),e=c(43210),f=c(54864),g=c(72312),h=c(62688);let i=(0,h.A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),j=(0,h.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var k=c(10022);let l=(0,h.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),m=(0,h.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),n=["light","dark","ocean","forest"];function o({onChange:a}){let[b,c]=(0,e.useState)("light");return(0,d.jsxs)(g.P.div,{className:"flex gap-3 flex-wrap items-center",initial:{opacity:0},animate:{opacity:1},children:[(0,d.jsx)("span",{className:"font-medium",children:"Select Theme:"}),n.map(e=>(0,d.jsx)("button",{onClick:()=>{c(e),a(e)},className:`px-3 py-1 rounded-full border text-sm capitalize ${b===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 dark:text-gray-100"}`,children:e},e))]})}let p={light:"bg-white text-black border-gray-200",dark:"bg-gray-800 text-white border-gray-600",ocean:"bg-blue-100 text-blue-900 border-blue-400",forest:"bg-green-100 text-green-900 border-green-400"};function q({fileUrl:a}){let b=(0,e.useRef)(null),[c,f]=(0,e.useState)(null),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(1),[m,n]=(0,e.useState)(0),[o,p]=(0,e.useState)(null),q=async a=>{if(o)try{let c=await o.getPage(a),d=c.getViewport({scale:1.2}),e=b.current;if(!e)return void f("Canvas not available");let g=e.getContext("2d");if(!g)return void f("Could not get canvas context");e.height=d.height,e.width=d.width,await c.render({canvasContext:g,viewport:d}).promise}catch(b){let a=b instanceof Error?b.message:"Unknown error";console.error("Error rendering page:",b),f(`Failed to render page: ${a}`)}},r=a=>{a>=1&&a<=m&&(l(a),q(a))};return i?(0,d.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[g&&(0,d.jsx)("div",{style:{padding:"20px",textAlign:"center",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"10px"},children:"Loading PDF..."}),c&&(0,d.jsxs)("div",{style:{padding:"20px",textAlign:"center",color:"red",border:"1px solid red",borderRadius:"4px",margin:"10px 0"},children:[(0,d.jsx)("p",{children:c}),(0,d.jsxs)("p",{children:["Try opening directly:",(0,d.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline",marginLeft:"5px"},children:"Open PDF"})]})]}),m>0&&(0,d.jsxs)("div",{style:{padding:"10px",textAlign:"center",border:"1px solid #ccc",borderRadius:"4px",marginBottom:"10px",backgroundColor:"#f8f9fa"},children:[(0,d.jsx)("button",{onClick:()=>r(k-1),disabled:k<=1,style:{padding:"5px 10px",marginRight:"10px",backgroundColor:k<=1?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:k<=1?"not-allowed":"pointer"},children:"Previous"}),(0,d.jsxs)("span",{style:{margin:"0 15px",fontWeight:"bold"},children:["Page ",k," of ",m]}),(0,d.jsx)("button",{onClick:()=>r(k+1),disabled:k>=m,style:{padding:"5px 10px",marginLeft:"10px",backgroundColor:k>=m?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"3px",cursor:k>=m?"not-allowed":"pointer"},children:"Next"})]}),(0,d.jsx)("canvas",{ref:b,style:{border:"1px solid #000",maxWidth:"100%",display:c?"none":"block",borderRadius:"4px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"}})]}):(0,d.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:"Loading PDF library..."})}var r=c(89042);function s(a){return"object"==typeof a&&null!==a&&"_id"in a}function t(a){return s(a)&&"file"in a&&"string"==typeof a.file}function u(){let[a,b]=(0,e.useState)("light"),[c,h]=(0,e.useState)(!1);(0,f.wA)();let n=(0,f.d4)(r.mB),u=(0,f.d4)(r.H$),v=(0,f.d4)(r.ZB),w=(0,f.d4)(r.Kc),x=a=>a.startsWith("http")?a:`http://localhost:8000/api/${a}`;return c&&n?.resume&&s(n.resume)&&t(n.resume)?(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,d.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"Resume Preview"}),(0,d.jsx)("button",{onClick:()=>h(!1),className:"text-gray-500 hover:text-gray-700 text-xl font-bold",children:"\xd7"})]}),(0,d.jsx)("div",{className:"p-4 overflow-auto max-h-[calc(90vh-80px)]",children:(0,d.jsx)(q,{fileUrl:x(n.resume.file)})})]})}):(0,d.jsxs)(g.P.div,{className:"p-6 rounded-xl shadow-md space-y-4 h-full",initial:{opacity:0,x:50},animate:{opacity:1,x:0},children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,d.jsx)(k.A,{className:"w-5 h-5"})," Resume Preview"]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,d.jsx)("span",{className:"text-sm text-gray-600",children:n.name}),(0,d.jsx)(o,{onChange:b})]})]}),(0,d.jsx)("div",{className:`rounded-lg border p-4 h-96 flex items-center justify-center transition-all duration-300 ease-in-out ${p[a]}`,children:(()=>{if(u)return(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,d.jsx)(i,{className:"w-5 h-5 animate-spin"}),(0,d.jsx)("p",{className:"text-sm opacity-80",children:"Loading resume..."})]});if(v)return(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-red-500",children:[(0,d.jsx)(j,{className:"w-5 h-5"}),(0,d.jsxs)("p",{className:"text-sm",children:["Error loading resume: ",v]})]});if(!w)return(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)("p",{className:"text-sm opacity-80",children:"Please log in to view your resume"})});if(n?.resume){let a,b=!1;return"string"==typeof n.resume?a=n.resume:t(n.resume)?(a=n.resume.file,b=n.resume.file.toLowerCase().endsWith(".pdf")):a=JSON.stringify(n.resume,null,2),(0,d.jsxs)("div",{className:"text-left space-y-4 overflow-auto max-h-full",children:[(0,d.jsx)("div",{className:"text-sm font-medium",children:"Resume Content:"}),s(n.resume)?(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"text-xs text-gray-600 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:[(0,d.jsx)("strong",{children:"Resume ID:"})," ",n.resume._id]}),t(n.resume)?(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(k.A,{className:"w-4 h-4 text-blue-600"}),(0,d.jsx)("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:n.resume.file.split("/").pop()||"Resume File"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[b&&(0,d.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors",children:[(0,d.jsx)(l,{className:"w-3 h-3"}),"Preview"]}),(0,d.jsxs)("a",{href:x(n.resume.file),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 px-3 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded transition-colors",children:[(0,d.jsx)(m,{className:"w-3 h-3"}),"Open"]})]})]}),(0,d.jsxs)("div",{className:"text-xs text-gray-500",children:["File Path: ",(0,d.jsx)("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:n.resume.file})]})]}):(0,d.jsxs)("div",{className:"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[(0,d.jsx)("div",{className:"font-medium",children:"Resume Object:"}),(0,d.jsx)("pre",{className:"mt-1 text-xs",children:a})]})]}):(0,d.jsx)("div",{className:"text-xs bg-gray-50 dark:bg-gray-800 p-3 rounded whitespace-pre-wrap",children:a})]})}return(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("p",{className:"text-sm opacity-80",children:"No resume found. Upload or create your resume to see the preview."}),(0,d.jsxs)("p",{className:"text-xs opacity-60 mt-2",children:["Theme: ",(0,d.jsx)("strong",{children:a})]})]})})()}),!1]})}},10022:(a,b,c)=>{"use strict";c.d(b,{A:()=>d});let d=(0,c(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},37952:(a,b,c)=>{"use strict";c.d(b,{default:()=>l});var d=c(60687),e=c(43210),f=c(72312),g=c(62688);let h=(0,g.A)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);var i=c(10022);let j=(0,g.A)("pencil-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);var k=c(51060);function l(){let[a,b]=(0,e.useState)(null),[c,g]=(0,e.useState)(!1),l=(0,e.useRef)(null),m=a=>{let c=a.target.files?.[0];c&&"application/pdf"===c.type?(b(c),g(!1)):alert("Please upload a valid PDF file.")},n=async()=>{if(!a)return;let b=new FormData;b.append("resume",a);try{let a=await k.A.post("http://localhost:8000/api/resume/upload",b,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});console.log("âœ… Upload success:",a.data),alert("Resume uploaded successfully!")}catch(a){console.error("âŒ Upload failed:",a),alert(a.response?.data?.message||"Upload failed")}},o=()=>{l.current?.click()};return(0,d.jsxs)(f.P.div,{className:"p-6 rounded-xl shadow-md space-y-4",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},children:[(0,d.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[(0,d.jsx)(h,{className:"w-5 h-5"})," Upload / Edit Resume"]}),!a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{type:"file",accept:"application/pdf",onChange:m,ref:l,className:"hidden"}),(0,d.jsx)("button",{onClick:o,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Upload Resume"})]}),a&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 rounded-md",children:[(0,d.jsxs)("span",{className:"flex items-center gap-2 text-sm",children:[(0,d.jsx)(i.A,{className:"w-4 h-4"}),a.name]}),(0,d.jsxs)("button",{onClick:()=>g(!0),className:"text-blue-600 hover:underline text-sm flex items-center gap-1",children:[(0,d.jsx)(j,{className:"w-4 h-4"})," Edit"]})]}),c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{type:"file",accept:"application/pdf",onChange:m,ref:l,className:"hidden"}),(0,d.jsx)("button",{onClick:o,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-md",children:"Choose New Resume"})]}),(0,d.jsx)("button",{onClick:n,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md w-full",children:"Upload Now"})]})]})}},45513:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\ruc\\\\ResumeBuilder\\\\Archive\\\\src\\\\components\\\\Resume\\\\ResumePreview.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\ruc\\ResumeBuilder\\Archive\\src\\components\\Resume\\ResumePreview.tsx","default")},77389:(a,b,c)=>{Promise.resolve().then(c.bind(c,5184)),Promise.resolve().then(c.bind(c,37952))},79183:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\ruc\\\\ResumeBuilder\\\\Archive\\\\src\\\\components\\\\Resume\\\\ResumeUploader.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\ruc\\ResumeBuilder\\Archive\\src\\components\\Resume\\ResumeUploader.tsx","default")},79597:(a,b,c)=>{Promise.resolve().then(c.bind(c,45513)),Promise.resolve().then(c.bind(c,79183))}};