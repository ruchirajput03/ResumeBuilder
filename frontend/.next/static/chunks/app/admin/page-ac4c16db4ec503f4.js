(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{425:(e,t,a)=>{"use strict";a.d(t,{default:()=>u});var r=a(5155),s=a(2115),l=a(9946);let n=(0,l.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),i=(0,l.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),d=(0,l.A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),o=["light","dark","ocean","forest"];function c(e){let{user:t,onStatusChange:a,onThemeAssign:s}=e;return(0,r.jsxs)("div",{className:"border rounded-lg p-4 shadow-sm ",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:t.name}),(0,r.jsx)("p",{className:"text-sm ",children:t.email}),(0,r.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm",children:"Resume Status:"}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("approved"===t.resumeStatus?"bg-green-100 text-green-700":"rejected"===t.resumeStatus?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"),children:t.resumeStatus})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("button",{className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-sm px-2 py-1 rounded-md",onClick:()=>a(t.id,"approved"),children:[(0,r.jsx)(n,{size:16,className:"inline-block mr-1"}),"Approve"]}),(0,r.jsxs)("button",{className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-sm px-2 py-1 rounded-md",onClick:()=>a(t.id,"rejected"),children:[(0,r.jsx)(i,{size:16,className:"inline-block mr-1"}),"Reject"]})]}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("label",{className:"text-sm flex items-center gap-1 font-medium mb-1",children:[(0,r.jsx)(d,{size:16})," Assign Theme"]}),(0,r.jsx)("select",{value:t.selectedTheme,onChange:e=>s(t.id,e.target.value),className:"w-full border px-2 py-1 rounded-md ",children:o.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})]})]})}function u(){let[e,t]=(0,s.useState)([{id:"1",name:"Riya Sharma",email:"riya@example.com",resumeStatus:"pending",selectedTheme:"light"},{id:"2",name:"Aryan Mehta",email:"aryan@example.com",resumeStatus:"approved",selectedTheme:"dark"},{id:"3",name:"Nisha Patel",email:"nisha@example.com",resumeStatus:"rejected",selectedTheme:"ocean"}]),a=(e,a)=>{t(t=>t.map(t=>t.id===e?{...t,resumeStatus:a}:t))},l=(e,a)=>{t(t=>t.map(t=>t.id===e?{...t,selectedTheme:a}:t))};return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Admin Dashboard"}),(0,r.jsx)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsx)(c,{user:e,onStatusChange:a,onThemeAssign:l},e.id))})]})}},1627:(e,t,a)=>{Promise.resolve().then(a.bind(a,425)),Promise.resolve().then(a.bind(a,9886))},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}})},8990:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>j,DY:()=>n,ET:()=>u,H$:()=>y,Kc:()=>x,Lx:()=>i,ZB:()=>f,ck:()=>k,im:()=>d,jc:()=>g,mB:()=>p});var r=a(1990),s=a(3464);let l={user:null,token:localStorage.getItem("token"),isLoading:!1,isAuthenticated:!1,error:null,message:null},n=(0,r.zD)("auth/register",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=await s.A.post("".concat("http://localhost:8000/api/","auth/register"),e,{withCredentials:!0}),a=t.data.data||t.data.user,r=t.data.token||"dummy-token";return r&&localStorage.setItem("token",r),{user:a,token:r}}catch(e){var r,l;return a((null==(l=e.response)||null==(r=l.data)?void 0:r.message)||"Registration failed")}}),i=(0,r.zD)("auth/login",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=await s.A.post("".concat("http://localhost:8000/api/","auth/login"),e,{withCredentials:!0}),a=t.data.data,r=t.data.token||"dummy-token";return r&&localStorage.setItem("token",r),{user:a,token:r}}catch(e){var r,l;return a((null==(l=e.response)||null==(r=l.data)?void 0:r.message)||"Login failed")}}),d=(0,r.zD)("auth/fetchUser",async(e,t)=>{let{rejectWithValue:a}=t;try{let e=localStorage.getItem("token"),t=await s.A.get("".concat("http://localhost:8000/api/","auth/"),{withCredentials:!0,headers:e?{Authorization:"Bearer ".concat(e)}:{}});return{user:t.data.data||t.data.user||t.data}}catch(e){var r,l;return a((null==(l=e.response)||null==(r=l.data)?void 0:r.message)||"Failed to get profile")}}),o=(0,r.Z0)({name:"auth",initialState:l,reducers:{clearAuth:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.error=null,e.message=null,localStorage.removeItem("token")},clearError:e=>{e.error=null},clearMessage:e=>{e.message=null},setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,localStorage.setItem("token",t.payload.token)}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null,e.message=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.message="Registration successful",e.error=null}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload||"Registration failed",e.isAuthenticated=!1}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null,e.message=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.message="Login successful",e.error=null}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload||"Login failed",e.isAuthenticated=!1}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,e.user=t.payload.user,e.isAuthenticated=!0,e.error=null}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload||"Failed to get profile",e.isAuthenticated=!1})}}),{clearAuth:c,clearError:u,clearMessage:m,setCredentials:h}=o.actions,g=e=>e.auth,p=e=>e.auth.user,x=e=>e.auth.isAuthenticated,y=e=>e.auth.isLoading,f=e=>e.auth.error,k=e=>{var t;return null==(t=e.auth.user)?void 0:t.role},j=o.reducer},9886:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var r=a(5155),s=a(2115),l=a(4540),n=a(5695),i=a(8990);let d=(0,a(9946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),o=e=>{let{allowedRoles:t,children:a,fallback:o=null,showFallback:c=!0,redirectTo:u}=e,m=(0,n.useRouter)(),h=(0,l.d4)(i.ck),g=Array.isArray(t)?t:[t],p=!!h&&g.includes(h);return((0,s.useEffect)(()=>{!p&&u&&m.replace(u)},[p,u,m]),p)?(0,r.jsx)(r.Fragment,{children:a}):u||!c?null:o||(0,r.jsx)("div",{className:"min-h-96 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center p-8",children:[(0,r.jsx)(d,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"You don't have permission to view this content."}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:["Required role(s): ",g.join(", ")]})]})})}},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(2115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:d?24*Number(i)/Number(s):i,className:l("lucide",o),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:d,...o}=a;return(0,r.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),d),...o})});return a.displayName=s(e),a}}},e=>{e.O(0,[464,635,441,964,358],()=>e(e.s=1627)),_N_E=e.O()}]);