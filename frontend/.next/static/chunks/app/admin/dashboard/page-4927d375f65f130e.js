(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{2125:(e,s,a)=>{Promise.resolve().then(a.bind(a,4163))},4163:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var t=a(5155),r=a(2115),l=a(3464);let n="http://localhost:8000/api/";function d(){let[e,s]=(0,r.useState)([]),[a,d]=(0,r.useState)(!0),[o,c]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=await l.A.get("".concat(n,"auth/all"));s(e.data.data)}catch(e){console.error("Fetch error:",e),c("Failed to load resumes")}finally{d(!1)}})()},[]);let i=async(e,a)=>{try{let t=await l.A.patch("".concat(n,"auth/").concat(e,"/status"),{status:a});s(s=>s.map(s=>s._id===e?t.data.data:s))}catch(e){console.error("Status update error:",e),alert("Failed to update status")}};return a?(0,t.jsx)("div",{className:"p-5",children:"Loading..."}):o?(0,t.jsx)("div",{className:"p-5 text-red-500",children:o}):(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-5",children:"All Uploaded Resumes"}),0===e.length?(0,t.jsx)("p",{children:"No resumes found."}):(0,t.jsx)("div",{className:"grid grid-cols-4 gap-4",children:e.map(e=>{var s,a;return(0,t.jsxs)("div",{className:"border border-gray-300 p-4 rounded-lg shadow-sm",children:[(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"font-bold",children:"User:"})," ",(null==(s=e.userId)?void 0:s.name)||"Unknown"]}),(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"font-bold",children:"Email:"})," ",(null==(a=e.userId)?void 0:a.email)||"Unknown"]}),(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"font-bold",children:"Status:"})," ",(0,t.jsx)("span",{className:"font-bold ".concat("approved"===e.status?"text-green-600":"rejected"===e.status?"text-red-600":"text-orange-600"),children:e.status})]}),(0,t.jsxs)("p",{className:"mb-4",children:[(0,t.jsx)("span",{className:"font-bold",children:"File:"})," ",e.file]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("button",{onClick:()=>{var s;return s=e.file,void window.open("http://localhost:8000".concat(s),"_blank")},className:"w-full bg-blue-500 text-white px-4 py-2 rounded border-none cursor-pointer hover:bg-blue-600",children:"View PDF"}),(0,t.jsx)("button",{onClick:()=>i(e._id,"approved"),disabled:"approved"===e.status,className:"w-full px-4 py-2 rounded border-none text-white ".concat("approved"===e.status?"bg-gray-400 cursor-not-allowed":"bg-green-500 cursor-pointer hover:bg-green-600"),children:"Approve"}),(0,t.jsx)("button",{onClick:()=>i(e._id,"rejected"),disabled:"rejected"===e.status,className:"w-full px-4 py-2 rounded border-none text-white ".concat("rejected"===e.status?"bg-gray-400 cursor-not-allowed":"bg-red-500 cursor-pointer hover:bg-red-600"),children:"Reject"})]})]},e._id)})})]})}}},e=>{e.O(0,[464,441,964,358],()=>e(e.s=2125)),_N_E=e.O()}]);